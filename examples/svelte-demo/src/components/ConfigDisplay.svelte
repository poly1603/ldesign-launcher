<script lang="ts">
  import { appConfig, appEnvironment } from '@ldesign/launcher/client/svelte'
  import './ConfigDisplay.css'

  // ğŸ‰ ä½¿ç”¨æ–°çš„ Svelte Store - è‡ªåŠ¨å¤„ç† HMRï¼
  let isExpanded = true
</script>

<div class="config-display">
  <div class="config-header" on:click={() => isExpanded = !isExpanded}>
    <h3>
      <span class="config-icon">{isExpanded ? 'ğŸ“‚' : 'ğŸ“'}</span>
      åº”ç”¨é…ç½®
    </h3>
    <span class="config-env-badge" data-env={$appEnvironment.mode}>
      {$appEnvironment.mode}
    </span>
  </div>

  {#if isExpanded}
    <div class="config-body">
      <!-- åº”ç”¨ä¿¡æ¯ -->
      <div class="config-section">
        <h4 class="config-section-title">
          <span class="section-icon">ğŸ“±</span>
          åº”ç”¨ä¿¡æ¯
        </h4>
        <div class="config-grid">
          <div class="config-item">
            <span class="config-label">åç§°</span>
            <span class="config-value">{$appConfig.app.name}</span>
          </div>
          <div class="config-item">
            <span class="config-label">ç‰ˆæœ¬</span>
            <span class="config-value config-value-version">{$appConfig.app.version}</span>
          </div>
          <div class="config-item config-item-full">
            <span class="config-label">æè¿°</span>
            <span class="config-value">{$appConfig.app.description}</span>
          </div>
        </div>
      </div>

      <!-- API é…ç½® -->
      <div class="config-section">
        <h4 class="config-section-title">
          <span class="section-icon">ğŸŒ</span>
          API é…ç½®
        </h4>
        <div class="config-grid">
          <div class="config-item config-item-full">
            <span class="config-label">Base URL</span>
            <span class="config-value config-value-url">{$appConfig.api.baseUrl}</span>
          </div>
          <div class="config-item">
            <span class="config-label">è¶…æ—¶æ—¶é—´</span>
            <span class="config-value">{$appConfig.api.timeout}ms</span>
          </div>
        </div>
      </div>

      <!-- åŠŸèƒ½å¼€å…³ -->
      <div class="config-section">
        <h4 class="config-section-title">
          <span class="section-icon">ğŸ›ï¸</span>
          åŠŸèƒ½å¼€å…³
        </h4>
        <div class="config-grid">
          <div class="config-item">
            <span class="config-label">æ•°æ®åˆ†æ</span>
            <span class="config-value config-toggle {$appConfig.features.enableAnalytics ? 'active' : ''}">
              {$appConfig.features.enableAnalytics ? 'âœ… å¼€å¯' : 'âŒ å…³é—­'}
            </span>
          </div>
          <div class="config-item">
            <span class="config-label">è°ƒè¯•æ¨¡å¼</span>
            <span class="config-value config-toggle {$appConfig.features.enableDebug ? 'active' : ''}">
              {$appConfig.features.enableDebug ? 'âœ… å¼€å¯' : 'âŒ å…³é—­'}
            </span>
          </div>
        </div>
      </div>

      <!-- ç¯å¢ƒå˜é‡ -->
      <div class="config-section">
        <h4 class="config-section-title">
          <span class="section-icon">ğŸ”§</span>
          ç¯å¢ƒä¿¡æ¯
        </h4>
        <div class="config-grid">
          <div class="config-item">
            <span class="config-label">æ¨¡å¼</span>
            <span class="config-value config-value-mode">{$appEnvironment.mode}</span>
          </div>
          <div class="config-item">
            <span class="config-label">å¼€å‘æ¨¡å¼</span>
            <span class="config-value config-toggle {$appEnvironment.isDev ? 'active' : ''}">
              {$appEnvironment.isDev ? 'âœ… æ˜¯' : 'âŒ å¦'}
            </span>
          </div>
          <div class="config-item">
            <span class="config-label">ç”Ÿäº§æ¨¡å¼</span>
            <span class="config-value config-toggle {$appEnvironment.isProd ? 'active' : ''}">
              {$appEnvironment.isProd ? 'âœ… æ˜¯' : 'âŒ å¦'}
            </span>
          </div>
        </div>
      </div>
    </div>
  {/if}
</div>

